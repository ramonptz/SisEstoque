<!DOCTYPE html>
<html lang="pt-br" data-bs-theme="light" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar Modelo Equipamento</title>
    <div th:replace="fragmentos :: bootstrap"></div>


</head>

<body>
    <div th:replace="fragmentos :: cabecalho"></div>
    <div class="col-sm-9 mx-auto d-block">

        <div th:if="${equipamento.id}">
            <h1>Página para editar o usuários</h1>
        </div>
        <div th:unless="${equipamento.id}">
            <h1>Página do cadastro de usuários</h1>
        </div>

        <form th:object="${equipamento}" class="row g-3 needs-validation was-validated" method="POST"
            action="/equipamento/cadastrar">
            <input type="hidden" th:field="*{id}" th:value="${equipamento.id}" required>
            <div class="col-md-4 input-group">
                <label for="validationServer01" class="input-group-text">Modelo de Equipamento</label>
                <input th:errorclass="is-invalid" type="text" class="form-control" id="validationServer01" value="1"
                    th:field="*{modeloEquipamento}" required maxlength="15" minlength="1" readonly>
                <input th:errorclass="is-invalid" type="text" class="form-control" id="validationServer01" value=""
                    th:field="*{modeloEquipamento}" required maxlength="15" minlength="1" readonly>
                        <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal"
                        th:data-bs-target="'#modal1-'">
                            Selecionar Modelo de Equipamento
                        </button>

                        <!-- Modal -->
                        <div class="modal fade" th:id="'modal1-'" data-bs-backdrop="static"
                            data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                            aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Atenção !!! </h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <table class="table table-striped table-bordered text-center "  id="tabela-equipamentos" style="width:100%">
                                            <thead>
                                                <tr>
                                                    <th class="text-center" scope="col">ID</th>
                                                    <th class="text-center" scope="col">Equipamento</th>
                                                    <th class="text-center" scope="col">Lote</th>
                                                </tr>
                                            </thead>
                                            <tbody >
                                                <tr th:each="modeloDeEquipamentos : ${modeloEquipamentos}">
                                                    <td th:text="${modeloDeEquipamentos.id}">...</td>
                                                    <td th:text="${modeloDeEquipamentos.nomeEquipamento}">...</td>
                                                    <td th:text="${modeloDeEquipamentos.lote}">...</td>
                                                </tr>
                                            </tbody>
                                            <tfoot>
                                                <tr>
                                                    <th class="text-center" scope="col">ID</th>
                                                    <th class="text-center" scope="col">Equipamento</th>
                                                    <th class="text-center" scope="col">Lote</th>
                                                </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary btn-sm"
                                            data-bs-dismiss="modal">Cancelar</button>
                                        <a class="btn btn-primary btn-sm align-middle"
                                            th:href="@{editar-usuario/}" role="button">Editar</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                <!-- <div class="valid-feedback">
                    Modelo de Equipamento válido !
                </div>
                <div id="validationServer01" class="invalid-feedback">
                    Por favor, selecione um Modelo de Equipamento.
                </div> -->
            </div>
                <div class="invalid-feedback" th:errors="*{modeloEquipamento}">Errors do nome do produto</div>
            <div class="col-md-4">
                <label for="validationServer02" class="form-label">Locatario</label>
                <input type="text" class="form-control" id="validationServer02" value="" th:field="*{locatario}"
                    required maxlength="15" minlength="1">
                <div class="valid-feedback">
                    Este Locatario é válido!
                </div>
                <div id="validationServer02" class="invalid-feedback">
                    Por favor, Selecione um Locatario.
                </div>
            </div>
            <div class="col-md-4">
                <label for="validationServer03" class="form-label">Serial Number</label>
                <input type="text" class="form-control" id="validationServer03" value="" th:field="*{sn}" required>
                <div class="valid-feedback">
                    Este SN é válido!
                </div>
                <div id="validationServer02" class="invalid-feedback">
                    Por favor, Selecione um SN.
                </div>
            </div>
            <div class="col-12">
                <button class="btn btn-primary" type="submit">Cadastrar Equipamento</button>
            </div>
        </form>
    </div>
    </div>
    <div th:replace="fragmentos :: rodape"></div>

    <form class="row g-3" method="POST" action="/modelo-equipamento/cadastrar">
        <div class="col-md-4">
            <label for="validationServer01" class="form-label">Nome do Equipamento</label>
            <input type="text" class="form-control is-valid" id="validationServer01" value="" name="nomeEquipamento" required>
            <div class="valid-feedback">
                Looks good!
            </div>
        </div>
        <!-- Restante do formulário -->
    
        <!-- Botão para abrir o modal -->
        <div class="col-12">
            <button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#modalItem">
                Selecionar Item
            </button>
        </div>
    </form>
    
    <!-- Modal para selecionar o item -->
    <div class="modal fade" id="modalItem" tabindex="-1" aria-labelledby="modalItemLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalItemLabel">Selecione um item</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Aqui você coloca a lista de itens para seleção -->
                    <ul class="list-group">
                        <li class="list-group-item" data-item-id="1">Item 1</li>
                        <li class="list-group-item" data-item-id="2">Item 2</li>
                        <li class="list-group-item" data-item-id="3">Item 3</li>
                        <!-- Adicione mais itens conforme necessário -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Captura o evento de clique nos itens da lista
        $(document).on('click', '.list-group-item', function () {
            // Obtém o ID do item clicado
            const itemId = $(this).data('item-id');
    
            // Define o valor do campo de input com o ID do item selecionado
            $('#validationServer01').val(itemId);
    
            // Fecha o modal após selecionar o item
            $('#modalItem').modal('hide');
        });
    </script>

</body>

</html>